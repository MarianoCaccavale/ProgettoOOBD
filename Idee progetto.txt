Nel nome dell'aeroporto inseriamo anche la città dello stesso, con magari un "-" a separare le due cosa. In questo modo, quando effettuiamo delle ricerche, ci verranno fuori aeroporti sia per città che per nome, per poi filtrarli con il codice(altra interrogazione che però sta volta estrae una parte della stringa diversa con clausola "where CodAeroporto = "risultato altra interrogazione")

La ricerca per tratte sarà fatta sia su CodTratta che su i due aeroporti. In questo modo possiamo sia cercare una tratta singola che tutte le tratte che vanno da un aeroporto ad un altro. Questo ammettendo sempre che le tratte siano i voli.

INSERIMENTO DI UN AEROPORTO CON CODICE AUTOGENERATO
insert into aeroporto
values (?, ?, ?)


codaeroporto = treconsonti(nomeaeroporto)
offset = select count( distinct codaeroporto)
from aeroporto
where aeroporto.nomeaerporto = this.nomeaeroporto
codaeroporto = codaeroporto + toString(offset+1)


quando lascio vuota una textbox faccio un'interrogazione particolare che mi permette di cercare tratte da <tot> a dappertutto e viceversa. Quando loggo creo un'entità aeroporto in modo da avere sempre Aeroporto.NomeAeroporto a portata.


ricordarsi di passare dalla schermata login un'entità di tipo aeroporto, dalla seconda schermata alla terza(quella dei voli) dobbiamo passare compagnia e tratta. Quando passiamo da voli a slot imbarchi dobbiamo passarci un'entità volo e una gate(?)

nelle combo box possiamo ficcarci un oggetto(per esempio una compagnia aerea). IN questo modo overridando il metodo tostring(facciamo comparire nel menù "codice - nome") in modo che quando dobbiamo passare un valore nell'interrogazione possiamo fare un instr in un substring() fermandomi al "-" e passando questa stringa nell'interrogazione in modo da passare il codice della compagnia da inserie in volo.

class ComboItem
{
    private String key;
    private String value;

    public ComboItem(String key, String value)
    {
        this.key = key;
        this.value = value;
    }

    @Override
    public String toString()
    {
        return key;
    }

    public String getKey()
    {
        return key;
    }

    public String getValue()
    {
        return value;
    }
}

comboBox.addItem(new ComboItem("Visible String 1", "Value 1"));
comboBox.addItem(new ComboItem("Visible String 2", "Value 2"));
comboBox.addItem(new ComboItem("Visible String 3", "Value 3"));

non possiamo inserire oraFine in slotImbarco se non quando Data è minore di CURRENT_TIMESTAMP

select count(distinct codaeroporto)
from aeroporto
where codaeroporto like 'mln%'		<mln> ovviamente è un esempio, starebbe per l'aeroporto di milano.

in modo da contare quanti aeroporti ci sono già in quella città e sommare quel numero al codice numerico da inserire nella seconda parte del codice

c'è un problema con validificadata() in sql

gestione volo:
per prima cosa creo un volo. Se tutto va a buon fine, apro una JDialog in primo piano che mi gestisce la creazione dello slotImbarco. La scelta degli orari avviene tramite una ricerca che mi fa scegliere solo gli orari che non sono occuapati da altri voli, la scelta dei gate invece c'è tramite un menù a tendina che offre solo i gate che non sono occupati in quel lasso di tempo.